{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { Camera, CameraType } from 'expo-camera';\nimport * as ImagePicker from 'expo-image-picker';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function App(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      hasCameraPermission = _useState2[0],\n      setHasCameraPermission = _useState2[1];\n\n  var _useState3 = useState(CameraType.back),\n      _useState4 = _slicedToArray(_useState3, 2),\n      type = _useState4[0],\n      setType = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      camera = _useState6[0],\n      setCamera = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      image = _useState8[0],\n      setImage = _useState8[1];\n\n  useEffect(function () {\n    (function _callee() {\n      var _await$Camera$request, cameraStatus;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Camera.requestCameraPermissionsAsync());\n\n            case 2:\n              _await$Camera$request = _context.sent;\n              cameraStatus = _await$Camera$request.cameraStatus;\n              setHasCameraPermission(cameraStatus === 'granted');\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n\n  var takePicture = function _callee2() {\n    var data;\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!camera) {\n              _context2.next = 5;\n              break;\n            }\n\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(camera.takePictureAsync(null));\n\n          case 3:\n            data = _context2.sent;\n            setImage(data.uri);\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var pickImage = function _callee3() {\n    var result;\n    return _regeneratorRuntime.async(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.Images,\n              allowsEditing: true,\n              aspect: [1, 1],\n              quality: 1\n            }));\n\n          case 2:\n            result = _context3.sent;\n\n            if (!result.cancelled) {\n              setImage(result.uri);\n            }\n\n          case 4:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(View, {\n      style: styles.cameraContainer,\n      children: _jsx(Camera, {\n        ref: function ref(_ref2) {\n          return setCamera(_ref2);\n        },\n        style: styles.camera,\n        type: type,\n        ratio: \"1:1\"\n      })\n    }), _jsx(Button, {\n      title: \"Flip\",\n      onPress: function onPress() {\n        setType(type === CameraType.back ? CameraType.front : CameraType.back);\n      }\n    }), _jsx(Button, {\n      title: \"Take Picture\",\n      onPress: function onPress() {\n        return takePicture();\n      }\n    }), _jsx(Button, {\n      title: \"Pick Image\",\n      onPress: function onPress() {\n        return pickImage();\n      }\n    }), _jsx(Button, {\n      title: \"Save\",\n      onPress: function onPress() {\n        return navigation.navigate(\"Save\", {\n          image: image\n        });\n      }\n    }), image && _jsx(Image, {\n      source: {\n        uri: image\n      },\n      style: styles.picture\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  camera: {\n    flex: 1,\n    aspectRatio: 1\n  },\n  buttonContainer: {\n    flex: 0.1,\n    alignSelf: 'flex-end',\n    alignItems: 'center'\n  },\n  button: {},\n  cameraContainer: {\n    flex: 1,\n    flexDirection: 'row'\n  },\n  picture: {\n    flex: 1\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","Camera","CameraType","ImagePicker","App","navigation","hasCameraPermission","setHasCameraPermission","back","type","setType","camera","setCamera","image","setImage","requestCameraPermissionsAsync","cameraStatus","takePicture","takePictureAsync","data","uri","pickImage","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","Images","allowsEditing","aspect","quality","result","cancelled","styles","container","cameraContainer","ref","front","navigate","picture","StyleSheet","create","flex","aspectRatio","buttonContainer","alignSelf","alignItems","button","flexDirection"],"sources":["C:/Users/ragha/OneDrive/Desktop/Projects/instagram-clone/components/main/Add.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { StyleSheet, Text, View, Button, Image } from 'react-native';\r\nimport { Camera, CameraType } from 'expo-camera';\r\nimport * as ImagePicker from 'expo-image-picker';\r\n\r\nexport default function App({ navigation }) {\r\n    const [hasCameraPermission, setHasCameraPermission] = useState(null);\r\n    const [type, setType] = useState(CameraType.back);\r\n    const [camera, setCamera] = useState(null);\r\n    const [image, setImage] = useState(null);\r\n    useEffect(() => {\r\n        (async () => {\r\n            const { cameraStatus } = await Camera.requestCameraPermissionsAsync();\r\n            setHasCameraPermission(cameraStatus === 'granted');\r\n        })();\r\n    }, []);\r\n\r\n    const takePicture = async () => {\r\n        if (camera) {\r\n            const data = await camera.takePictureAsync(null);\r\n            setImage(data.uri);\r\n        }\r\n    }\r\n\r\n    const pickImage = async () => {\r\n        // No permissions request is necessary for launching the image library\r\n        let result = await ImagePicker.launchImageLibraryAsync({\r\n            mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n            allowsEditing: true,\r\n            aspect: [1, 1],\r\n            quality: 1,\r\n        });\r\n\r\n\r\n        if (!result.cancelled) {\r\n            setImage(result.uri);\r\n        }\r\n    };\r\n\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <View style={styles.cameraContainer}>\r\n                <Camera ref={ref => setCamera(ref)} style={styles.camera} type={type} ratio={\"1:1\"} />\r\n            </View>\r\n            <Button\r\n                title=\"Flip\"\r\n                onPress={() => {\r\n                    setType(type === CameraType.back ? CameraType.front : CameraType.back);\r\n                }}>\r\n            </Button>\r\n            <Button title=\"Take Picture\" onPress={() => takePicture()} />\r\n            <Button title=\"Pick Image\" onPress={() => pickImage()} />\r\n            <Button title=\"Save\" onPress={() => navigation.navigate(\"Save\", { image: image })} />\r\n            {image && <Image source={{ uri: image }} style={styles.picture} />}\r\n        </View>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n    },\r\n    camera: {\r\n        flex: 1,\r\n        aspectRatio: 1,\r\n    },\r\n    buttonContainer: {\r\n        flex: 0.1,\r\n        alignSelf: 'flex-end',\r\n        alignItems: 'center'\r\n    },\r\n    button: {},\r\n    cameraContainer: {\r\n        flex: 1,\r\n        flexDirection: 'row'\r\n    },\r\n    picture: {\r\n        flex: 1,\r\n    }\r\n})"],"mappings":"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"},"metadata":{},"sourceType":"module"}